@using Microsoft.AspNetCore.Components
@using ChatGPT.Shared.Models

<EditForm Model="@SearchModel" OnValidSubmit="@OnGenerateTextCompletionSubmitted">
    <div class="input-group chat-input-group">
        <InputText title="prompt" id="name" @bind-Value="SearchModel.SearchText" class="form-control chat-input shadow-none" />
        <button title="send" type="submit" class="chat-input-button" disabled="@IsBusy">
            <svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 mr-1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
        </button>
    </div>
</EditForm>

@code {
    [Parameter]
    public SearchModel? SearchModel { get; set; }

    [Parameter]
    public EventCallback OnGenerateTextCompletionSubmitted { get; set; }

    [Parameter]
    public bool IsBusy { get; set; }
}
